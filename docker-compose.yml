wlandb:
    image: "index.alauda.cn/toughstruct/mysql:M1"
    privileged: true
    expose:
        - "3306"
    environment:
        - MYSQL_USER=wlanadm
        - MYSQL_PASSWORD=wlanpwd
        - MYSQL_DATABASE=toughwlan
        - MYSQL_ROOT_PASSWORD=wlanroot
    restart: always
    volumes:
        - /home/var/mysql:/var/lib/mysql

admin:
    build: ./toughadmin
    privileged: true
    ports:
        - "1810:1810"
        - "10122:22"
    links:
        - wlandb
    environment:
        - ROOT_PASSWORD=toughstruct
        - DB_TYPE=mysql
        - DB_URL=mysql://wlanadm:wlanpwd@wlandb:3306/toughwlan?charset=utf8
        - TIMEZONE=CST-8
        - SYSLOG_ENABLE=1
        - SYSLOG_SERVER=121.201.15.99
        - SYSLOG_PORT=514
        - SYSLOG_LEVEL=INFO
    restart: always
    volumes:
        - /home/var/toughwlan:/var/toughwlan

acagent:
    build: ./toughac
    privileged: true
    ports:
        - "2000:2000/udp"
        - "3799:3799/udp"
        - "1819:1819"
        - "10222:22"
    links:
        - admin
    environment:
        - ROOT_PASSWORD=toughstruct
        - TIMEZONE=CST-8
        - SYSLOG_ENABLE=1
        - SYSLOG_SERVER=121.201.15.99
        - SYSLOG_PORT=514
        - SYSLOG_LEVEL=INFO
    restart: always
    volumes:
        - /home/var/toughac:/var/toughac

engine:
    build: ./toughengine
    privileged: true
    ports:
        - "1812:1823/udp"
        - "1813:1813/udp"
        - "1815:1815"
        - "10322:22"
    links:
        - admin
    environment:
        - ROOT_PASSWORD=toughstruct
        - TIMEZONE=CST-8
        - API_URL=http://admin:1810/api
        - API_KEY=LpWE9AtfDPQ3ufXBS6gJ37WW8TnSF920
        - SYSLOG_ENABLE=1
        - SYSLOG_SERVER=121.201.15.99
        - SYSLOG_PORT=514
        - SYSLOG_LEVEL=INFO
    restart: always
    volumes:
        - /home/var/toughengine:/var/toughengine


portal:
    build: ./toughportal
    privileged: true
    ports:
        - "1818:1818"
        - "10422:22"
        - "50100:50100/udp"
    links:
        - admin
    environment:
        - ROOT_PASSWORD=toughstruct
        - TIMEZONE=CST-8
        - API_URL=http://admin:1810/api
        - API_KEY=LpWE9AtfDPQ3ufXBS6gJ37WW8TnSF920
        - SYSLOG_ENABLE=1
        - SYSLOG_SERVER=121.201.15.99
        - SYSLOG_PORT=514
        - SYSLOG_LEVEL=INFO
    restart: always
    volumes:
        - /home/var/toughportal:/var/toughportal



